{%extends 'skeleton.html' %}

{% block content %}
    <h1>Recent Expenses</h1>
    
    <table>
        <thead>
            <tr>
                <th>Amount</th>
                <th>Description</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for expense in expenses %}
                <tr>
                    <td>{{ expense.amount }}</td>
                    <td>{{ expense.description }}</td>
                    <td>{{ expense.date }}</td>
                    <td>
                        <a href="{{ url_for('edit_expense', id=expense.id) }}">Edit</a>
                        <a href="{{ url_for('delete_expense', id=expense.id) }}">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class ="form">
        <form method="post" action="">
            {{form.hidden_tag()}}
        <fieldset>
            <legend>Record New Expense</legend>
            <div class="form-group">
                {{form.category_id.label}}
                {{form.category_id}}
            </div>
            <div class="form-group">
                {{form.amount.label}}
                {{form.amount}}
            </div>
            <div class="form-group">
                {{form.description.label}}
                {{form.description}}
            </div>
            <div class="form-group">
                {{form.date.label}}
                {{form.date}}
            </div>
            <div class="form-group">
                {{form.submit}}
            </div>
        </fieldset>
    </form>
    </div>
{% endblock %}
